{"version":3,"sources":["functions/index.js","context/index.js","components/SVG.js","components/WebPlayer.js","components/visualizer/Box.js","components/visualizer/index.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["id","token","a","axios","url","headers","Authorization","json","res","status","console","log","data","error","method","device_ids","WebPlayerContext","createContext","children","requestRef","useRef","useState","tokens","setTokens","player","setPlayer","loggedIn","setLoggedIn","connected","setConnected","device","setDevice","isPlaying","setIsPlaying","track","setTrack","currentBarWidth","setCurrentBarWidth","features","undefined","analysis","audioDetails","setAudioDetails","current","total","time","setTime","getSongTimeStamp","getCurrentState","then","position","duration","trackSongTime","t","cancelAnimationFrame","requestAnimationFrame","useEffect","current_track","getAudioAnalysis","getAudioFeatures","length","Promise","resolve","window","Spotify","onSpotifyWebPlaybackSDKReady","Player","name","getOAuthToken","cb","volume","addListener","message","state","track_window","paused","device_id","setCurrentDevice","connect","Provider","value","gsap","registerPlugin","MorphSVGPlugin","StyledSVG","styled","svg","props","MorphPlayPauseSVG","pausePath","playPath","to","morphSVG","xmlns","viewBox","data-name","d","transform","fill","ref","style","visibility","StyledProgressbar","div","width","useContext","controlThumb","controlBar","timeRequestRef","setThumbStart","currentThumbPos","setCurrentThumbPos","setPrevThumbPos","setDragging","className","artists","onClick","previousTrack","icon","faFastBackward","newTime","seek","faUndoAlt","togglePlay","faRedoAlt","nextTrack","response","clearTimeout","timeout","faFastForward","draggable","onDragStart","e","clientX","onDrag","clientWidth","onDragEnd","mesh","setHover","active","setActive","segmentIndex","setSegmentIndex","from","segmentAnimation","setSegmentAnimation","up","down","useFrame","next","dur","segments","start","rotation","x","pitches","pitchToRotateIndex","y","z","animatedVals","useSpring","scale","pitchToScaleIndex","config","wobbly","onPointerOver","onPointerOut","args","attach","factor","color","boxes","yPerRow","Visualizer","camera","fov","orthographic","intensity","angle","penumbra","distance","map","Y","i","box","coordinate","quant","index","radius","Math","cos","PI","sin","getCirclePerimCoordinates","Box","App","uri","windowObjRef","setWindowObjRef","setProfile","location","href","closed","close","getProfile","prevState","checkCookies","b","cookies","document","cookie","split","forEach","includes","slice","setTimeout","display","open","openRequestedPopUp","WebPlayer","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","module","exports"],"mappings":"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","file":"static/js/main.042e2eba.chunk.js","sourcesContent":["import axios from \"axios\";\n\nasync function getAudioAnalysis(id,token) {\n    try {\n        let res = await axios({\n            url: `https://api.spotify.com/v1/audio-analysis/${id}`,\n            headers: {\n                Authorization: `Bearer ${token}`\n            },\n            json: true\n        })\n\n        if (res.status) console.log('GET ANALYSIS STATUS: ', res.status)\n        console.log(\"THIS IS THE AUDIO ANALYSIS\", res.data);\n\n        return res.data\n    }\n\n    catch (err) {\n        console.error(err)\n    }\n}\n\nasync function getAudioFeatures(id,token) {\n    try {\n        let res = await axios({\n            url: `https://api.spotify.com/v1/audio-features/${id}`,\n            headers: {\n                Authorization: `Bearer ${token}`\n            },\n            json: true\n        })\n\n        if (res.status) console.log('GET FEATURES STATUS: ', res.status)\n        console.log(\"THIS IS THE AUDIO FEATURES\", res.data);\n\n        return res.data\n    }\n\n    catch (err) {\n        console.error(err)\n    }\n}\nasync function getProfile(token) {\n    try {\n        let res = await axios({\n            url: \"https://api.spotify.com/v1/me\",\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n            json: true,\n        })\n\n        if (res.status) console.log('GET PROFILE STATUS: ', res.status)\n\n        return res.data\n    }\n    catch (err) {\n        console.error(err)\n    }\n}\n\nasync function setCurrentDevice(token, id) {\n    console.log(\"setting device...\");\n    let res\n    try {\n        res = await axios({\n            method: 'PUT',\n            url: `https://api.spotify.com/v1/me/player`,\n            headers: {\n                Authorization: `Bearer ${token}`\n            },\n            data: {\n                device_ids: [id],\n                // play: false\n            },\n            json: true\n        })\n\n        if (res.status) console.log('GET DEVICES STATUS: ', res.status)\n        console.log(\"THIS IS THE AVAILABLE DEVICES\", res.data);\n\n    }\n    \n    catch (err) {\n        console.error(err)\n        res = false\n    }\n\n    finally {\n        return res?.data\n    }\n}\n\nconst roundTo = (n, d=2) => +n.toFixed(d)\nconst randsgn = () => Math.pow(-1, Math.round(Math.random))\nconst rand = (max = 1, min = 0, d = 2) => roundTo(min + (max - min) * Math.random(), d)\n\nexport {getAudioAnalysis, getAudioFeatures, getProfile,setCurrentDevice, roundTo, randsgn, rand}","import React, { createContext, useEffect, useState, useRef } from 'react';\nimport axios from \"axios\";\nimport { getAudioAnalysis, getAudioFeatures, setCurrentDevice } from '../functions'\n\nexport const WebPlayerContext = createContext(null)\n\n\nexport default ({children}) => {\n\n    const requestRef = useRef(null)\n    \n    const [timeTracker, setTimeTracker] = useState(0)\n    const [tokens, setTokens] = useState([]);\n    const [player, setPlayer] = useState();\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [connected, setConnected] = useState(false);\n    const [device, setDevice] = useState(false)\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [track,setTrack] = useState();\n    const [currentBarWidth, setCurrentBarWidth] = useState();\n\n    const [audioDetails, setAudioDetails] = useState({\n        features: undefined,\n        analysis: undefined\n    })\n    const [time, setTime] = useState({\n\t\tcurrent: 0,\n\t\ttotal: 0,\n    });\n    \n    const handleSDKLoaded = () => {\n        return new Promise((resolve) => {\n            if (window.Spotify) {\n                resolve();\n            } else {\n                window.onSpotifyWebPlaybackSDKReady = resolve;\n            }\n        });\n    }\n\n    const getSongTimeStamp = () => {\n        player.getCurrentState().then((res) => {\n            setTime(() => {\n                return {\n                    current: res.position,\n                    total: res.duration,\n                };\n            });\n            setCurrentBarWidth(res.position / res.duration);\n        })\n\n    }\n\n    const trackSongTime = t => {\n        // console.log(t);\n        if (!isPlaying) {\n            console.log(\"IT IS NOT PLAYING\");\n            requestRef.current = null;\n            return cancelAnimationFrame(requestRef.current);\n        }\n\n        if (isPlaying) {\n\n            getSongTimeStamp();\n            requestAnimationFrame(trackSongTime)\n        } \n    }\n\n    useEffect(() => {\n        if (requestRef.current == null) {\n            requestRef.current = requestAnimationFrame(trackSongTime)\n        }\n\n        return () => cancelAnimationFrame(requestRef.current)\n    }, [isPlaying])\n\n\n    useEffect(() => {\n        \n\t\tif (track) {\n            const { id } = track.current_track;\n            getSongTimeStamp();\n            getAudioAnalysis(id,tokens[0]).then((analysis) => getAudioFeatures(id,tokens[0]).then(features => setAudioDetails({features,analysis})))   \n        }\n        \n    }, [track]);\n\n    useEffect(() => {\n\n        if (tokens.length > 1) {\n            handleSDKLoaded().then(() => {\n                setPlayer(\n                    new window.Spotify.Player({\n                        name: 'Chromesthetics',\n                        getOAuthToken: cb => cb(tokens[0]),\n                        volume: .05\n                    })\n                )\n                setLoggedIn(true);\n            })\n        }\n    }, [tokens])\n\n    useEffect(() => {\n\n        if(player){\n            // Error handling\n            player.addListener('initialization_error', ({ message }) => { console.error(`init error: ${message}`); });\n            player.addListener('authentication_error', ({ message }) => { console.error(`auth error: ${message}`); });\n            player.addListener('account_error', ({ message }) => { console.error(`account error: ${message}`); });\n            player.addListener('playback_error', ({ message }) => { console.error(`play error: ${message}`); });\n\n            // Playback status updates\n            player.addListener('player_state_changed', state => {\n                console.log(\"*STATE*\", state);\n                if (state !== null) {\n                    if (!connected) {\n                        setConnected(true)\n                    }\n\n                    setTrack(state.track_window)\n                    setIsPlaying(!state.paused)\n                }\n                else {\n                    setConnected(false);\n                }\n\n            });\n\n            // Ready\n            player.addListener('ready', ({ device_id }) => {\n                console.log('Ready with Device ID', device_id);\n                if (!device) {\n                    setCurrentDevice(tokens[0], device_id).then((res) => {\n                        console.log(res);\n                        setDevice(res)\n                        // setIsPlaying(true)\n                    })\n                }\n            });\n\n            // Not Ready\n            player.addListener('not_ready', ({ device_id }) => {\n                console.log('Device ID has gone offline', device_id);\n                setConnected(false)\n            });\n\n            // Connect to the player!\n            player.connect().then(connected => {\n                setConnected(true)\n                console.log(connected);\n            });\n        }\n    }, [player])\n\n    return (\n        <WebPlayerContext.Provider value={{connected, loggedIn, tokens,setIsPlaying, isPlaying, player, setLoggedIn, setPlayer, setTokens, setConnected, track, audioDetails, time, setTime, device, currentBarWidth}}>\n            {children}\n        </WebPlayerContext.Provider>\n    )\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { MorphSVGPlugin } from \"gsap/MorphSVGPlugin\";\nimport styled from \"styled-components\";\n\ngsap.registerPlugin(MorphSVGPlugin);\n\nconst StyledSVG = styled.svg`\n    transform: ${props => !props.isPlaying ? \"translate(-42.5%,-40%)\" : \"translate(-50%,-50%)\"};\n`\n\nconst MorphPlayPauseSVG = (props) => {\n\tconst pausePath = useRef();\n\tconst playPath = useRef();\n\n\tuseEffect(() => {\n\t\tif (!props.isPlaying) {\n\t\t\tgsap.to(pausePath.current, {\n\t\t\t\tmorphSVG: playPath.current,\n\t\t\t\tduration: 0.125,\n\t\t\t});\n\t\t} else {\n\t\t\tgsap.to(pausePath.current, {\n\t\t\t\tmorphSVG: pausePath.current,\n\t\t\t\tduration: 0.125,\n\t\t\t});\n\t\t}\n\t}, [props.isPlaying]);\n\treturn (\n\t\t<StyledSVG\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t// width=\"31.5\"\n\t\t\t// height=\"31.5\"\n            viewBox=\"0 0 31.5 31.5\"\n            isPlaying={props.isPlaying}\n\t\t>\n\t\t\t<path\n\t\t\t\tid=\"Icon_awesome-pause\"\n\t\t\t\tdata-name=\"Icon awesome-pause\"\n\t\t\t\td=\"M10.125,33.68H3.375A3.376,3.376,0,0,1,0,30.3V5.555A3.376,3.376,0,0,1,3.375,2.18h6.75A3.376,3.376,0,0,1,13.5,5.555V30.3A3.376,3.376,0,0,1,10.125,33.68ZM31.5,30.3V5.555A3.376,3.376,0,0,0,28.125,2.18h-6.75A3.376,3.376,0,0,0,18,5.555V30.3a3.376,3.376,0,0,0,3.375,3.375h6.75A3.376,3.376,0,0,0,31.5,30.3Z\"\n\t\t\t\ttransform={\"translate(0 -2.18)\"}\n\t\t\t\tfill=\"#f5f5f5\"\n\t\t\t\tref={pausePath}\n\t\t\t/>\n\t\t\t<path\n\t\t\t\tid=\"Icon_awesome-play\"\n\t\t\t\tdata-name=\"Icon awesome-play\"\n\t\t\t\td=\"M29.841,13.209,5.091.406C3.08-.633,0,.376,0,2.947v25.6c0,2.307,2.862,3.7,5.091,2.541l24.751-12.8a2.775,2.775,0,0,0,0-5.082Z\"\n\t\t\t\ttransform=\"translate(0 -0.002)\"\n                fill=\"#fff\"\n                ref={playPath}\n\t\t\t\tstyle={{ visibility: \"hidden\" }}\n\t\t\t/>\n\n\t\t</StyledSVG>\n\t);\n};\n\nexport { MorphPlayPauseSVG };\n","import React, { useState, useRef, useContext, useEffect } from \"react\";\nimport { WebPlayerContext } from \"../context\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaFastBackward,\n\tfaFastForward,\n\tfaUndoAlt,\n\tfaRedoAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { MorphPlayPauseSVG } from \"./SVG\";\n\n// transition: width .5s linear;\nconst StyledProgressbar = styled.div`\n\t.player--progressbar {\n\t\t&--current {\n\t\t\twidth: ${(props) => `${props.width * 100}%`};\n\t\t}\n\t}\n`;\n\nlet timeout;\n\nexport default (props) => {\n\tconst {\n\t\tplayer,\n\t\tconnected,\n\t\tisPlaying,\n\t\tsetIsPlaying,\n\t\ttrack,\n\t\ttokens,\n\t\ttime,\n\t\tsetTime,\n\t\tdevice,\n\t\tcurrentBarWidth\n\t} = useContext(WebPlayerContext);\n\n\tconst controlThumb = useRef(null);\n\tconst controlBar = useRef(null);\n\tconst timeRequestRef = useRef();\n\tconst prevAnimTime = useRef();\n\tconst [thumbStart, setThumbStart] = useState();\n\tconst [currentThumbPos, setCurrentThumbPos] = useState();\n\tconst [prevThumbPos, setPrevThumbPos] = useState();\n\tconst [isDragging, setDragging] = useState(false);\n\n\t// const updateBarWidth = (animTime) => {\n\t// \t// console.log(timeRequestRef);\n\t// \t// console.log(animTime);\n\n\t// \tif (isPlaying && !isDragging && device) {\n\t// \t\tconsole.log(\"THE SONG IS PLAYING\");\n\n\t// \t\t// console.log(`Time before request: ${Date.now()}`);\n\t// \t\tplayer.getCurrentState().then((res) => {\n\n\n\t// \t\t\ttimeRequestRef.current = requestAnimationFrame(() =>\n\t// \t\t\t\tupdateBarWidth(res.position)\n\t// \t\t\t);\n\t// \t\t});\n\t// \t}\n\t// \tif (isDragging) {\n\t// \t\tplayer.pause();\n\t// \t} else {\n\t// \t\t// console.log(\"THE SONG IS *****NOT****** PLAYING\");\n\t// \t\ttimeRequestRef.current = requestAnimationFrame(() =>\n\t// \t\t\tupdateBarWidth(time.current)\n\t// \t\t);\n\t// \t}\n\t// };\n\n\t// useEffect(() => {\n\t// \ttimeRequestRef.current = requestAnimationFrame(() =>\n\t// \t\tupdateBarWidth(time.current)\n\t// \t);\n\n\t// \treturn () => cancelAnimationFrame(timeRequestRef.current);\n\t// }, [isPlaying]);\n\n\t// useEffect(() => {\n\t//     console.log(player);\n\n\t// \tif (isPlaying) {\n\t//         console.log(\"THE SONG IS PLAYING\")\n\t//         timeRequestRef.current = requestAnimationFrame(updateBarWidth)\n\t// \t\t// timeout = setTimeout(() => {\n\t// \t\t\t// setTime(() => {\n\t// \t\t\t// \treturn {\n\t// \t\t\t// \t\tcurrent: time.current + 500,\n\t// \t\t\t// \t\ttotal: time.total,\n\t// \t\t\t// \t};\n\t//             // });\n\t//             // setCurrentBarWidth(res.position / res.duration)\n\t// \t\t// }, 500);\n\t// \t} else {\n\t//         console.log(\"THE SONG IS *NOT* PLAYING\")\n\t//         return () => cancelAnimationFrame(timeRequestRef.current);\n\t//     }\n\t// }, [isPlaying, time]);\n\n\n\treturn (\n\t\t<main className=\"dashboard\">\n\t\t\t<div className=\"current\">\n\t\t\t\t{track && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2 className=\"current--song\">\n\t\t\t\t\t\t\t{track.current_track.name}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<h2 className=\"current--artist\">\n\t\t\t\t\t\t\t{track.current_track.artists[0].name}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<section className=\"player\">\n\t\t\t\t<div className=\"player--controls\">\n\t\t\t\t\t<div className=\"player--controls--buttons\">\n\t\t\t\t\t\t<div className=\"player--skip-back player--controls--button__wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => player.previousTrack()}\n\t\t\t\t\t\t\t\tclassName=\"player--skip-back__button player--controls--button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFastBackward} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player--back-30 player--controls--button__wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlet newTime;\n\t\t\t\t\t\t\t\t\tif (time.current <= 30000) {\n\t\t\t\t\t\t\t\t\t\tnewTime = 0;\n\t\t\t\t\t\t\t\t\t} else newTime = time.current - 30000;\n\t\t\t\t\t\t\t\t\tplayer.seek(newTime);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"player--back-30__button player--controls--button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"thirty\">30</span>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faUndoAlt} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player--play player--controls--button__wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tplayer\n\t\t\t\t\t\t\t\t\t\t.togglePlay()\n\t\t\t\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t!isPlaying &&\n\t\t\t\t\t\t\t\t\t\t\t\tcancelAnimationFrame(\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimeRequestRef.current\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"player--play__button player--controls--button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* <FontAwesomeIcon icon={faPlay} ref={playIcon}/> */}\n\t\t\t\t\t\t\t\t<MorphPlayPauseSVG isPlaying={isPlaying} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player--forward-30 player--controls--button__wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tplayer.seek(time.current + 30000)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"player--forward-30__button player--controls--button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t<span className=\"thirty\">30</span>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faRedoAlt} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"player--skip-forward player--controls--button__wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tplayer.nextTrack().then(() => {\n\t\t\t\t\t\t\t\t\t\tplayer\n\t\t\t\t\t\t\t\t\t\t\t.getCurrentState()\n\t\t\t\t\t\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t\t\t\t\t\tsetTime(() => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent: response.position,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: response.duration,\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"THE NEW WIDTH: \",\n\t\t\t\t\t\t\t\t\t\t\t\t\ttime.current / time.total\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"player--skip-forward__button player--controls--button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFastForward} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<StyledProgressbar\n\t\t\t\t\t\tclassName=\"player--progressbar\"\n\t\t\t\t\t\tref={controlBar}\n\t\t\t\t\t\twidth={currentBarWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"player--progressbar--full\"></div>\n\t\t\t\t\t\t<div className=\"player--progressbar--current\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tdraggable=\"true\"\n\t\t\t\t\t\t\t\t// onMouseDown={e => {\n\n\t\t\t\t\t\t\t\t// }}\n\n\t\t\t\t\t\t\t\tonDragStart={(e) => {\n\n\t\t\t\t\t\t\t\t\tsetThumbStart(e.clientX);\n\t\t\t\t\t\t\t\t\tsetCurrentThumbPos(e.clientX);\n\t\t\t\t\t\t\t\t\tsetPrevThumbPos(e.clientX);\n\t\t\t\t\t\t\t\t\tsetDragging(true);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonDrag={(e) => {\n\t\t\t\t\t\t\t\t\tsetCurrentThumbPos(e.clientX);\n\t\t\t\t\t\t\t\t\tconst changeInWidth =\n\t\t\t\t\t\t\t\t\t\t(currentThumbPos - prevThumbPos) /\n\t\t\t\t\t\t\t\t\t\tcontrolBar.current.clientWidth;\n\n\t\t\t\t\t\t\t\t\tsetPrevThumbPos(currentThumbPos);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonDragEnd={(e) => {\n\t\t\t\t\t\t\t\t\tsetDragging(false);\n\t\t\t\t\t\t\t\t\tplayer.seek(time.total * currentBarWidth);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tref={controlThumb}\n\t\t\t\t\t\t\t\tclassName=\"player--progressbar--current__thumb\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledProgressbar>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<div className=\"scales\">\n\t\t\t\t<div className=\"scales--item scales__volume\"></div>\n\t\t\t\t<div className=\"scales--item scales__zoom\"></div>\n\t\t\t</div>\n\t\t</main>\n\t);\n};\n","import React, {useRef, useEffect, useState} from 'react'\nimport { useFrame } from 'react-three-fiber'\nimport { useSpring, animated, config } from \"react-spring/three\";\nimport { MeshWobbleMaterial } from 'drei'\n\n\n\nexport default function(props) {\n\t// This reference will give us direct access to the mesh\n\tconst mesh = useRef();\n\t// Set up state for the hovered and active state\n\tconst [hovered, setHover] = useState(false);\n\tconst [active, setActive] = useState(false);\n\t// const {analysis,features} = props.audioDetails\n\t// Rotate mesh every frame, this is outside of React without overhead\n\tconst [tempo, setTempo] = useState();\n\tconst [segmentIndex, setSegmentIndex] = useState(0);\n\tconst [segmentAnimation, setSegmentAnimation] = useState({\n\t\tfrom: undefined,\n\t\tto: undefined,\n\t\tduration: 1,\n\t});\n\tconst [currentBeat, setCurrentBeat] = useState({\n\t\tup: 0,\n\t\tdown: 0,\n\t});\n\n\tconst { features, analysis } = props.audioDetails;\n\n\t// useEffect(() => {\n\n\t// }, [analysis])\n\n\t// console.log(config);\n\n\tuseEffect(() => {\n\t\tsetSegmentIndex(0);\n\t}, [props.track?.current_track.id]);\n\n\tuseFrame(() => {\n\t\tif (analysis) {\n\t\t\tlet current, next, dur;\n\t\t\t// console.log(\"ANALYSIS: \", analysis);\n\t\t\t// console.log(props.time.current);\n\t\t\tif (segmentIndex < analysis.segments.length - 1) {\n\t\t\t\tif (\n\t\t\t\t\tanalysis.segments[segmentIndex + 1].start * 1000 <\n\t\t\t\t\tprops.time.current\n\t\t\t\t) {\n\t\t\t\t\tsetSegmentIndex(segmentIndex + 1);\n\t\t\t\t\tcurrent = analysis.segments[segmentIndex];\n\t\t\t\t\tdur = current.duration;\n\t\t\t\t\tnext = analysis.segments[segmentIndex + 1];\n\t\t\t\t\t// console.log(\"CURRENT SEGMENT: \", current);\n\t\t\t\t\t// console.log(\"SEGMENT DURATION: \", dur);\n\t\t\t\t\t// console.log(\"NEXT SEGMENT: \", next);\n\t\t\t\t\tsetSegmentAnimation({\n\t\t\t\t\t\tfrom: current,\n\t\t\t\t\t\tto: next,\n\t\t\t\t\t\tduration: dur,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\n\t\tmesh.current.rotation.x += segmentAnimation.to ? segmentAnimation.to.pitches[\n\t\t\tprops.pitchToRotateIndex.x\n\t\t] / 10 : .05\n\n\t\tmesh.current.rotation.y += segmentAnimation.to ? segmentAnimation.to.pitches[\n\t\t\tprops.pitchToRotateIndex.y\n\t\t] / 10 : .05\n\n\t\tmesh.current.rotation.z += segmentAnimation.to ? segmentAnimation.to.pitches[\n\t\t\tprops.pitchToRotateIndex.z\n\t\t] / 10 : .05\n\t\t\n\t});\n\n\tconst animatedVals = useSpring({\n\t\tto: {\n\t\t\tscale: segmentAnimation.to\n\t\t\t\t? [\n\t\t\t\t\t\t.5 + 1.75 *\n\t\t\t\t\t\t\tsegmentAnimation.to.pitches[\n\t\t\t\t\t\t\t\tprops.pitchToScaleIndex.x\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t.5 + 1.75 *\n\t\t\t\t\t\t\tsegmentAnimation.to.pitches[\n\t\t\t\t\t\t\t\tprops.pitchToScaleIndex.y\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t.5 + 1.75 *\n\t\t\t\t\t\t\tsegmentAnimation.to.pitches[\n\t\t\t\t\t\t\t\tprops.pitchToScaleIndex.z\n\t\t\t\t\t\t\t],\n\t\t\t\t  ]\n\t\t\t\t: [1, 1, 1],\n\t\t},\n\t\tconfig: config.wobbly,\n\t});\n\n\treturn (\n\t\t<animated.mesh\n\t\t\t{...animatedVals}\n\t\t\t{...props}\n\t\t\tref={mesh}\n\t\t\tonClick={(e) => setActive(!active)}\n\t\t\tonPointerOver={(e) => setHover(true)}\n\t\t\tonPointerOut={(e) => setHover(false)}\n\t\t\t// onUpdate={(self) => console.log(\"PROPS HAVE BEEN UPDATED\")}\n\t\t>\n\t\t\t<boxBufferGeometry args={[1, 1, 1]} />\n\t\t\t{/* <meshPhysicalMaterial attach=\"material\" color={props.color} /> */}\n\t\t\t<MeshWobbleMaterial attach=\"material\" factor={.1} color={props.color}/>\n\t\t</animated.mesh>\n\t);\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { Canvas, useFrame } from \"react-three-fiber\";\nimport { useSpring, animated, config } from \"react-spring/three\";\nimport { MeshDistortMaterial, OrbitControls, Sky } from 'drei'\nimport Box from './Box'\nimport Glob from './Glob'\n\nconst boxes = [\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 0,\n\t\t\ty: 2,\n\t\t\tz: 4\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 1,\n\t\t\ty: 3,\n\t\t\tz: 5\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 1,\n\t\t\ty: 3,\n\t\t\tz: 5\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 0,\n\t\t\ty: 2,\n\t\t\tz: 4\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 2,\n\t\t\ty: 4,\n\t\t\tz: 6\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 3,\n\t\t\ty: 5,\n\t\t\tz: 7\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 3,\n\t\t\ty: 5,\n\t\t\tz: 7\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 2,\n\t\t\ty: 4,\n\t\t\tz: 6\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 4,\n\t\t\ty: 6,\n\t\t\tz: 8\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 5,\n\t\t\ty: 7,\n\t\t\tz: 9\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 5,\n\t\t\ty: 7,\n\t\t\tz: 9\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 4,\n\t\t\ty: 6,\n\t\t\tz: 8\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 6,\n\t\t\ty: 8,\n\t\t\tz: 10\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 7,\n\t\t\ty: 9,\n\t\t\tz: 11\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 7,\n\t\t\ty: 9,\n\t\t\tz: 11\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 6,\n\t\t\ty: 8,\n\t\t\tz: 10\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 8,\n\t\t\ty: 10,\n\t\t\tz: 0\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 9,\n\t\t\ty: 11,\n\t\t\tz: 1\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 9,\n\t\t\ty: 11,\n\t\t\tz: 1\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 8,\n\t\t\ty: 10,\n\t\t\tz: 0\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 10,\n\t\t\ty: 0,\n\t\t\tz: 4\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 11,\n\t\t\ty: 1,\n\t\t\tz: 5\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 11,\n\t\t\ty: 1,\n\t\t\tz: 5\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 10,\n\t\t\ty: 0,\n\t\t\tz: 4\n\t\t}\n\t},\n\t{\n\t\tpitchToScaleIndex: {\n\t\t\tx: 0,\n\t\t\ty: 4,\n\t\t\tz: 8\n\t\t},\n\t\tpitchToRotateIndex: {\n\t\t\tx: 1,\n\t\t\ty: 5,\n\t\t\tz: 9\n\t\t}\n\t}\n]\n\nconst radius = 15;\nconst yPerRow = [\n\t3,2,1,0,-1,-2,-3\n]\n// const shapesPerRow = [\n// \t1,\n// \t3,\n// \t7,\n// \t13,\n// \t7,\n// \t3,\n// \t1\n// ]\n// let yStart = radius\n\nconst getCirclePerimCoordinates = (quant, index, radius, start=[0,0,0] ) => {\n\tlet x = start[0] + radius * Math.cos(2 * Math.PI * index / quant)\n\tlet y = start[1] + radius \n\tlet z = start[1] + radius * Math.sin(2 * Math.PI * index / quant)\n\treturn [x,z]\n}\n\n// const getSphereAreaCoordinate = (h, dY, dZ, r) => {\n// \t// console.log(\"CURRENT Y: \", h);\n// \t// console.log(\"CHANGE IN Y: \", dY);\n// \t// console.log(\"CHANGE IN Z: \", dZ);\n// \tlet x = r * Math.cos(dZ) * Math.sin(dY)\n// \tlet y = r * Math.sin(dZ) * Math.sin(dY)\n// \tlet z = r * Math.cos(dY)\n// \treturn [x,y,z]\n// }\n\n// let b = 0;\n\nfunction Visualizer(props) {\n\tconsole.log(\"VISUALIZER WAS RENDERED\");\n\treturn (\n\t\t<Canvas camera={{\n\t\t\tfov: 85,\n\t\t\torthographic: true,\n\t\t\tposition: [0,0,0.01]\n\t\t}}>\n\t\t\t<OrbitControls />\n\t\t\t<ambientLight intensity={0.5} />\n\t\t\t<spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} />\n\t\t\t{/* <pointLight position={[-10, -10, -10]} /> */}\n\t\t\t<pointLight\n\t\t\t\tdistance={20}\n\t\t\t\tintensity={2}\n\t\t\t\tposition={[1, 1, 0]}\n\t\t\t\tcolor=\"#D96B43\"\n\t\t\t/>\n\t\t\t<pointLight\n\t\t\t\tdistance={20}\n\t\t\t\tintensity={0.5}\n\t\t\t\tposition={[2, 4, 1]}\n\t\t\t\tcolor=\"#fff\"\n\t\t\t/>\n\t\t\t<pointLight\n\t\t\t\tdistance={20}\n\t\t\t\tintensity={1.3}\n\t\t\t\tposition={[2, 1, 0]}\n\t\t\t\tcolor=\"lightblue\"\n\t\t\t/>\n\t\t\t{\n\t\t\t\tyPerRow.map((Y, i) => {\n\n\t\t\t\t\treturn boxes.map((box,i) => {\n\t\t\t\t\t\tlet y = 5;\n\n\t\t\t\t\t\t// for (i = z; i <= -5; i--) {\n\t\n\t\t\t\t\t\t\tlet coordinate = getCirclePerimCoordinates(boxes.length, i, radius)\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tposition={[coordinate[0], Y * 3, coordinate[1]]}\n\t\t\t\t\t\t\t\t\ttime={props.time}\n\t\t\t\t\t\t\t\t\taudioDetails={props.audioDetails}\n\t\t\t\t\t\t\t\t\tpitchToScaleIndex={box.pitchToScaleIndex}\n\t\t\t\t\t\t\t\t\tpitchToRotateIndex={box.pitchToRotateIndex}\n\t\t\t\t\t\t\t\t\ttrack={props.track}\n\t\t\t\t\t\t\t\t\tcolor={i % 2 === 0 ? \"#333\" : \"#ddd\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t})\n\n\t\t\t\t})\n\t\t\t}\n\n\t\t</Canvas>\n\t);\n}\n\nexport default Visualizer;\n\n/* ANIMATION STEPS FOR VISUALIZER \n*******************************'\n\t* 1. ON EVERY FRAME get current time stamp for song\n\t* 2. compare current time stamp against current beat ('i') and next beat ('i + 1') to detect if new beat or not\n\t* 3. BEAT ANIMATED DETAILS: \n\t\t\t- on 'UPBEAT' - (beat-duration / 2) - grow relative to loudness, referred in 'SEGMENTS'\n\n\t\t\t*/\n","import React, { useState, useEffect, useContext } from \"react\";\nimport logo from \"./logo.svg\";\nimport axios from \"axios\";\nimport \"./App.scss\";\nimport { WebPlayerContext } from \"./context\";\nimport WebPlayer from \"./components/WebPlayer\";\nimport Visualizer from \"./components/visualizer\";\nimport { getProfile } from \"./functions\";\nfunction App() {\n\tconst [windowObjRef, setWindowObjRef] = useState();\n\tconst [profile, setProfile] = useState();\n\tconst {\n\t\tloggedIn,\n\t\ttokens,\n\t\tplayer,\n\t\tsetTokens,\n\t\ttime,\n\t\taudioDetails,\n\t\ttrack,\n\t} = useContext(WebPlayerContext);\n\n\tconst checkCookies = () => {\n\t\tlet a, b;\n\t\tconst cookies = document.cookie.split(\"; \");\n\t\tif (cookies.length > 2) {\n\t\t\tcookies.forEach((cookie) => {\n\t\t\t\tif (cookie.includes(\"a=\")) {\n\t\t\t\t\ta = cookie.slice(2);\n\t\t\t\t} else if (cookie.includes(\"b=\")) {\n\t\t\t\t\tb = cookie.slice(2);\n\t\t\t\t} else return;\n\t\t\t});\n\n\t\t\tsetTokens([a, b]);\n\t\t} else {\n\t\t\tsetTimeout(checkCookies, 300);\n\t\t}\n\t};\n\n\tlet uri\n\n\tconst openRequestedPopUp = (uri) => {\n\t\tsetWindowObjRef(\n\t\t\twindow.open(\n\t\t\t\t`${uri}login`,\n\t\t\t\t\"Log In To Your Spotify Account\",\n\t\t\t\t\"height=1200,width=800,opener\"\n\t\t\t)\n\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log('%NODE_ENV%');\n\t\tconsole.log(window.location.href)\n\t\tif ( ! '%NODE_ENV%' || '%NODE_ENV%' === 'development') {\n\t\t\turi = 'http://localhost:8888/'\n\t\t}\n\t\telse uri = window.location.href;\n\t\tconsole.log(uri)\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (tokens.length > 0) {\n\t\t\tif (!loggedIn) {\n\t\t\t\taxios(`/refresh_token?refresh_token=${tokens[1]}`).then(\n\t\t\t\t\t(res) => {\n\t\t\t\t\t\tsetTokens((prevState) => [res.data, prevState[1]]);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindowObjRef && !windowObjRef.closed && windowObjRef.close();\n\t\t\t\t// getProfile();\n\n\t\t\t\tgetProfile(tokens[0]).then((res) => setProfile(res));\n\t\t\t\t// console.log(window.Spotify)\n\t\t\t}\n\t\t} else {\n\t\t\tcheckCookies();\n\t\t}\n\t}, [tokens, loggedIn]);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Visualizer time={time} audioDetails={audioDetails} track={track} />\n\t\t\t{!loggedIn ? (\n\t\t\t\t<div className=\"login\">\n\t\t\t\t\t<div className=\"login--step\">\n\t\t\t\t\t\t<p className=\"login--step--num\">1.</p>\n\t\t\t\t\t\t<p className=\"login--step--text\">\n\t\t\t\t\t\t\tLogin to your Spotify Account:\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"login--btn\"\n\t\t\t\t\t\t\tonClick={() => openRequestedPopUp(uri)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login--step\">\n\t\t\t\t\t\t<p className=\"login--step--num\">2.</p>\n\t\t\t\t\t\t<p className=\"login--step--text\">\n\t\t\t\t\t\t\tSelect <span>\"Chromesthetics\"</span> as a listening device in the Spotify app\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login--step\">\n\t\t\t\t\t<p className=\"login--step--num\">3.</p>\n\t\t\t\t\t<p className=\"login--step--text\">\n\t\t\t\t\t\tEnjoy!\n\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<p style={{ display: \"none\" }}>you are already logged in!</p>\n\t\t\t)}\n\t\t\t{/* \n\t\t\t\t{tokens && (\n\t\t\t\t\t<div className=\"oath\">\n\t\t\t\t\t\t<p className=\"access-token\">{tokens[0]}</p>\n\t\t\t\t\t\t<p className=\"refresh-token\">{tokens[1]}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{profile && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Email: {profile.email}</p>\n\t\t\t\t\t\t<p>Display Name: {profile.display_name}</p>\n\t\t\t\t\t\t<button onClick={e => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}}>Get currently playing song</button>\n\t\t\t\t\t</div>\n\t\t\t\t)} */}\n\t\t\t{loggedIn && player && <WebPlayer />}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport WebPlayerContext from './context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <WebPlayerContext>\n        <App />\n    </WebPlayerContext>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}